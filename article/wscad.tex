\documentclass[12pt]{article}

\usepackage{sbc-template}

\usepackage{graphicx,url}

\usepackage[brazil]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{listings}

\usepackage{todonotes}
\usepackage{xargs}
\newcommandx{\change}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}

\lstset{ %
frame=single
}


\sloppy

\title{Artigo pro Cuda Fuzzy}

% Edevaldo Braga dos Santos
% Giovane de Oliveira Torres
% Guilherme Pereira Paim
% Renan Zafalon da Silva
% Vitor Alano de Ataides

\author{Edevaldo Braga dos Santos\inst{1}, Giovane de Oliveira Torres\inst{1}, Guilherme Pereira Paim\inst{1},\\ Renan Zafalon da Silva\inst{1}, Vitor Alano de Ataides\inst{1}, Maur√≠cio Lima Pilla\inst{1}}

\address{Universidade Federal de Pelotas \\
Pelotas, RS - Brasil\\
  \email{\{edevaldo.santos,gdotorres,gppaim,renan.zafalon,vaataides,pilla\}@inf.ufpel.edu.br}
}

\begin{document}

\newcommand{\libname}{CudaFuzzy}

\maketitle

\begin{abstract}

Abstract aqui.

\end{abstract}

\begin{resumo}

Resumo aqui.

\end{resumo}

\section{Introdu√ß√£o}
\label{sec:introducao}

% Logica fuzzy: colocar onde? %

	Existem diversos casos onde classes de objetos n√£o pertencem totalmente a um conjunto. Baseado nisso, Zadeh definiu a teoria dos conjuntos \textit{fuzzy}~\cite{zadeh:65}, que visa tratar problemas de imprecis√£o ao classificar dados no mundo real. Os conjuntos \textit{fuzzy} possuem aplica√ß√µes em sistemas de controle e de suporte √† decis√£o, onde a descri√ß√£o do problema n√£o √© feita de forma precisa~\cite{weber:03}.
	
	Utilizando-se dos conhecimentos provenientes dos conjuntos \textit{fuzzy}, tem-se a base para a utilizaÁ„o da l√≥gica \textit{fuzzy}, sendo constru√≠da a partir da l√≥gica proposicional. Com isso, os operadores foram definidos a† partir dos j√° estabelecidos na l√≥gica cl√°ssica, com a adi√ß√£o de outros, para fins pr√°ticos~\cite{tanscheit:04}. Uma caracter√≠stica interessante que diferencia a l√≥gica tradicional da \textit{fuzzy} √© que na primeira os valores que s√£o utilizados atendem √ condi√ß√£o de serem verdadeiros ou falsos (0 ou 1). J√° na segunda, trabalha-se com conjuntos \textit{fuzzy}, os quais podem assumir um valor que pertence ao intervalo $[0, 1]$. Isso permite que um conjunto \textit{fuzzy} possa ser representado por uma infinidade de valores~\cite{klir:95}.	
	
% GPU %

	Com a finalidade de obter computa√ß√£o com bom desempenho, √© importante o uso dos v√°rios n√∫cleos de processamento disponibilizados nos sistemas de computa√ß√£o atuais -- para um melhor aproveitamento do paralelismo do sistema computacional. Neste contexto, encaixam-se as GPUs (\textit{Graphical Processor Units}), que s√£o componentes com alto poder de paralelismo~\cite{sengupta:07}. Por√©m, √© importante ressaltar que as GPUs s√£o reservadas a obter bom desempenho com aplica√ß√µes que possuem determinadas caracter√≠sticas~\cite{owens:08}, que incluem: (i) Requisitos computacionais excessivos, (ii) Paralelismo nas aplica√ß√µes e (iii) maior import√¢ncia do \textit{throughput} em detrimento da lat√™ncia. Destacam-se ainda alguns exemplos pr√°ticos bem-sucedidos que utilizam CUDA:
An√°lise do fluxo de tr√°fego a√©reo, atrav√©s do uso do poder computacional de CUDA, foi poss√≠vel reduzir o tempo de an√°lise do tr√°fego a√©reo nacional
de dez minutos para tr√™s segundos. Outro exemplo relevante √© o ganho de desempenho em simula√ß√µes moleculares NAMD(din√¢mica molecular em nanoescala), o ganho de desempenho foi poss√≠vel gra√ßas √s arquiteturas paralelas das GPUs~\cite{nvidia:15}.

% O trabalho - Acredito que dever√° ser melhor explorado esta parte! Quando os objetivos ficarem mais claros %	

	Tendo sido discutidos estes conceitos, o objetivo deste trabalho √© descrever uma biblioteca de l√≥gica \textit{fuzzy} voltada para GPUs, a fim de verificar a forma como pode ser efetuada uma implementa√ß√£o que consiga extrair paralelismo deste tipo de arquiteturas.
	
% Discuss√£o sobre a estrutura do artigo.

	O restante deste artigo est√° dividido da seguinte maneira: A se√ß√£o~\ref{sec:logfuzzy} fala sobre a l√≥gica fuzzy, que √© a base para a constru√ß√£o deste trabalho. Na se√ß√£o~\ref{sec:lib}, √© descrito a implementa√ß√£o efetuada da biblioteca~\libname. A se√ß√£o~\ref{sec:metodologia} destina-se a explicar a metodologia empregada para a execu√ß√£o de testes na biblioteca. A se√ß√£o~\ref{sec:resultados} exibe e discute os principais resultados obtidos por este trabalho, de onde se tiram as principais conclus√µes, observadas na se√ß√£o~\ref{sec:conclusoes}, a qual ainda mostra poss√≠veis trabalhos futuros. Por fim, a se√ß√£o~\ref{sec:trabalhos} faz uma breve discuss√£o sobre os trabalhos relacionados ao escopo deste artigo.

\section{L√≥gica Fuzzy}
\label{sec:logfuzzy}

A l√≥gica \textit{fuzzy} foi criada com base na teoria de conjuntos \textit{fuzzy}. A principal ideia da l√≥gica \textit{fuzzy} √© aumentar a representa√ß√£o de valores, n√£o restrigindo-se somente aos valores 0 (falso) e 1 (verdadeiro). Um valor na l√≥gica \textit{fuzzy} √© representado por um n√∫mero real que est√° entre os n√∫meros 0 e 1 -- e este n√∫mero representa o grau de pertin√™ncia do valor dentro de um conjunto \textit{fuzzy}~\cite{boclin:06}. A teoria dos conjuntos \textit{fuzzy} foi criada com o prop√≥sito de oferecer ferramentas matem√°ticas que visam solucionar problemas que possuam algumas das seguintes caracter√≠sticas~\cite{falcao:02}: Incerteza, informa√ß√µes vagas e ambiguidade.

%L√≥gica fuzzy foi criada com base na teoria de conjuntos Fuzzy, a ideia principal de fuzzy √© a seguinte: Um valor √© verdadeiro (grau 1) ou falsos (grau 0), sendo que o grau pode variar de 0 √† 1. A teoria do conjunto fuzzy foi inventada com o objetivo de oferecer ferramentas matem√°ticas para solucionar problemas imprecisos ou vagos. Dentre as in√∫meras aplica√ß√µes com l√≥gica fuzzy, o projeto IMMO-RATE, √© bastante interessante, pois ele permite an√°lise de sustentabilidade em im√≥veis, considerando quest√µes chaves espec√≠ficas que utilizam a l√≥gica fuzzy.

\subsection{Operadores Fuzzy}
Conjuntos s√£o definidos por uma condi√ß√£o espec√≠fica que define se um conjunto pertence ou n√£o a outro. Para exemplificar os operadores em fuzzy, logo abaixo foram utilizados conjuntos A e B.
Os mais comuns em conjuntos \textit{fuzzy} s√£o: uni√£o 
(A\begin{math} \cup \end{math} B ={ x | x \begin{math}\in \end{math} A \begin{math}\vee \end{math} x \begin{math}\in \end{math} B) e intersec√£o (A \begin{math} \cap \end{math} B = 
x | x \begin{math}\in \end{math}A \begin{math}\wedge \end{math} x \begin{math}\in \end{math} B).  

%={x | x ‚àà A ‚àß x ‚àà B}). 



\section{\libname}
\label{sec:lib}

	\libname~√© o nome dado √ biblioteca de l√≥gica \textit{fuzzy} desenvolvida neste trabalho, voltada a GPUs. Para o seu desenvolvimento, a biblioteca criada teve a necessidade de incluir v√°rios operadores, para trabalhar sobre os conjuntos \textit{fuzzy}. Foram escolhidas opera√ß√µes b√°sicas~\cite{klir:95} para a implementa√ß√£o, sendo estas: 2 opera√ß√µes AND ($\wedge$), 2 opera√ß√µes OR ($\vee$) e 3 opera√ß√µes NOT ($\sim$). Na Figura~\ref{fig:fuzzyops} est„o demonstradas as opera√ß√µes atravÈs dos operadores desenvolvidos.
	
\begin{figure}[!h]
\centering

\[ \begin{array}{ccc}
	AND1(x, y) & = & min(x, y) \\
	AND2(x, y) & = & x * y \\
	OR1(x, y) & = & max(x, y) \\
	OR2(x, y) & = & (x + y) - (x * y)\\
	NOT1(x) & = & 1 - x \\
	NOT2(x) & = & \sqrt{1-x^2} \\
	NOT3(x) & = & \sqrt[3]{1-x^3} \\
\end{array} \]
\caption{Opera√ß√µes implementadas na biblioteca~\libname}
\label{fig:fuzzyops}
\end{figure}

\todo[inline]{Referenciar cada operador mostrado? Explicar mais a opera√ß√£o? Parece √≥bvio..}

Os operadores foram implementados em C, utilizando-se a biblioteca CUDA, e foram desenvolvidos como fun√ß√µes que recebem como argumentos um ou dois valores do tipo \texttt{double} (um para opera√ß√µes \texttt{NOT}, e dois para opera√ß√µes \texttt{AND} e \texttt{OR}), sendo esses os operandos e retornando um valor do tipo \texttt{double}, o qual √© o resultado da opera√ß√£o. Na Figura~\ref{fig:operation} est· exemplificada a implementa√ß√£o da opera√ß√£o \texttt{NOT3}.

\begin{figure}[!h]
\centering
\lstinputlisting[language=C, firstline=43, lastline=45, otherkeywords={inline,device}]{../lib/FuzzyLogic/d_FuzzyLogic.cu}
\caption{C√≥digo de implementa√ß√£o da opera√ß√£o de l√≥gica \textit{fuzzy} NOT3}
\label{fig:operation}
\end{figure}

Por√©m, √© importante observar que a implementa√ß√£o destes operadores, por si s√≥, representa pouco do trabalho efetuado. Como as arquiteturas alvo para esta biblioteca s√£o as GPUs, houve a necessidade de elaborar uma maneira de aproveitar o paralelismo dispon√≠vel nestas arquiteturas. A estrat√©gia abordada por este trabalho buscou agrupar conjuntos de opera√ß√µes de um mesmo tipo, em um \textit{array} de instru√ß√µes. Com isso, surge a possibilidade de serem executadasm√∫ltiplas opera√ß√µes de l√≥gica \textit{fuzzy} nos v√°rios n√∫cleos disponibilizados pela GPU. As opera√ß√µes s√£o agrupadas em um mesmo tipo para serem executadas em paralelo devido √† taxonomia destas arquiteturas, sendo elas consideradas SIMT (\textit{Single instruction multiple thread})~\cite{keckler:11}, o que indica que \change{Explicar SIMT}...

Assim, as opera√ß√µes s√£o feitas sobre uma fun√ß√£o que leva o prefixo \texttt{Bulk}, o qual far√° uma opera√ß√£o de l√≥gica \textit{fuzzy} sobre um \textit{array} de operandos (Em caso de opera√ß√µes \texttt{BulkNOT}) ou sobre dois \textit{arrays} de operandos (Em caso de opera√ß√µes \texttt{BulkAND} e \texttt{BulkOR}). No caso de opera√ß√µes que trabalham com dois \textit{arrays}, as opera√ß√µes ser√£o efetuadas de maneira correspondente nos \textit{arrays}, i.e., o primeiro operando de um \textit{array} ser√° combinado com o primeiro operando do outro \textit{array}, gerando assim uma computa√ß√£o parcial da opera√ß√£o, sendo esse o primeiro elemento do \textit{array} de resultado. Logo, quando a opera√ß√£o requer dois \textit{arrays} como entrada, os mesmos dever√£o conter o mesmo n√∫mero de elementos. Na Figura~\ref{fig:bulkoperation} est· representada uma computa√ß√£o parcial da opera√ß√£o \texttt{BulkAND1}.

\begin{figure}[!h]
\centering
\lstinputlisting[language=C, basicstyle=\scriptsize, firstline=171, lastline=178, otherkeywords={inline,device}]{../lib/FuzzyLogic/d_BulkLogic.cu}
\caption{C√≥digo de implementa√ß√£o de uma √∫nica opera√ß√£o \texttt{BulkAND1}}
\label{fig:bulkoperation}
\end{figure}

O c√≥digo acima √© a representa√ß√£o de uma opera√ß√£o efetuada entre o i-√©simo elemento de um \textit{array} com seu correspondente no segundo \textit{array}. O resultado desta opera√ß√£o gera o i-√©simo elemento do \textit{array}, o qual armazenar√° os resultados da opera√ß√£o \texttt{Bulk}.

\section{Metodologia}
\label{sec:metodologia}	

\section{Resultados e Discuss√£o}	
\label{sec:resultados}	

\section{Conclus√µes e Trabalhos Futuros}
\label{sec:conclusoes}	
	
\section{Trabalhos Relacionados}
\label{sec:trabalhos}

	Existem diversas implementa√ß√µes relacionadas a l√≥gica \textit{fuzzy}. Os artigos visualizados na bibliografia normalmente fazem utiliza√ß√£o de l√≥gica \textit{fuzzy} voltada para um tipo de problema, n√£o descrevendo uma biblioteca gen√©rica. Como trabalhos descritos desta forma, pode-se citar~\cite{sugeno:93}, que utiliza l√≥gica \textit{fuzzy} para a discuss√£o de um met√≥do para modelagem qualitativa, e~\cite{li:11}, que emprega a l√≥gica \textit{fuzzy} para fazer o gerenciamento de energia em baterias de autom√≥veis h√≠bridos do tipo \textit{plug-in}.
	
	No que diz respeito √s bibliotecas relacionadas a l√≥gica \textit{fuzzy}, existe uma desenvolvida na linguagem Java, chamada de jFuzzyLogic~\cite{cingolani:12, cingolani:13}. Esta biblioteca √© uma implementa√ß√£o de sistemas \textit{fuzzy} que permite projetar controladores de l√≥gica \textit{fuzzy}. Por fim, existe a biblioteca FuzzyGPU~\cite{defour:14}, que √© o trabalho relacionado mais pr√≥ximo ao que este artigo apresenta. FuzzyGPU √© uma implementa√ß√£o de biblioteca de aritm√©tica \textit{fuzzy} voltada a GPUs.
 	
\bibliographystyle{sbc}
\bibliography{wscad}

\end{document}
